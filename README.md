# 📦 ESP32CAM Car

这是一个基于ESP32的物联网项目，用于远程控制摄像头小车，提供实时视频流和电机控制通过WiFi网页界面。

---

## 🚀 项目简介

本项目主要用于：
- 实时视频流传输和图像捕获
- 远程电机控制（前进、后退、左转、右转、停止）
- LED灯控制

适用于：
- 物联网教育项目
- 远程监控应用
- DIY机器人项目

---

## 🛠 技术栈

- 编程语言：C++ (Arduino)
- 开发环境：Arduino IDE
- 主要工具 / 框架：ESP32, ESP32-CAM, WiFi, HTTP Server

---

## 📂 项目结构

```text
.
├── ESP32CAM_Car.ino     # 主程序文件，初始化摄像头、WiFi和HTTP服务器
├── app_httpd.cpp        # HTTP服务器实现，处理摄像头流和电机控制
├── camera_index.h       # 网页界面（压缩的HTML/JS）
├── README.md            # 项目说明文档

```

---

## 📋 物料清单 (Bill of Materials)

| 物料名称          | 数量 |
|-------------------|------|
| Esp32主板        | 1    |
| 亚克力4WD小车底板 | 1    |
| L298N模块        | 1    |
| 电池盒           | 1    |
| TT电机支架       | 1    |
| 摄像头支架       | 1    |
| TT电机           | 4    |
| TT轮胎           | 4    |
| USB数据线        | 1    |
| 母对母杜邦线     | 10   |
| 公对母杜邦线     | 10   |
| 18650电池        | 2    |
| M3*10螺丝        | 6    |
| M3*8螺丝         | 30   |
| M3螺帽           | 14   |
| M3*10铜柱        | 9    |
| M3*30螺丝        | 9    |
| ESP32-CAM开发板  | 1    |

---

## 💻 代码介绍

本项目代码基于Arduino框架开发，使用ESP32和ESP32-CAM模块实现远程控制小车功能。代码分为多个版本迭代优化：

### 版本更新历史

- **初始版本 (v1.0)**: 基础功能实现，包括摄像头初始化、WiFi连接、HTTP服务器搭建、电机控制和网页界面。
  
- **稳定性优化 (v1.1)**: 
  - 降低摄像头初始分辨率至QVGA，减少内存使用。
  - 在loop()中添加delay(10)以防止CPU占用过高。
  - 分离HTTP服务器端口（控制80，视频81）以避免阻塞。

- **流畅度优化 (v1.2)**: 
  - 进一步降低分辨率至QQVGA，提高HTTP流畅度。
  - 限制MJPEG帧率至约20fps，释放CPU资源。
  - 限制视频流仅支持单个客户端连接。
  - 简化控制handler，移除不必要的日志输出。
  - 关闭所有非必要系统日志以提升性能。
